function getJson(e){return JSON.parse($.ajax({type:"GET",url:e,dataType:"json",global:!1,async:!1,success:function(e){return e},fail:function(){alert("Woops, something went wrong! Please file an issue on Github!")}}).responseText)}function solveGit(){randRepo=(randRepo+1)%build,29==randRepo&&(getRandPage(),dataObj=getJson("https://api.github.com/search/issues?q=state%3Aopen"+language+"&page="+randPage)),$(".suggestionApp-content").empty(),$(".suggestionApp-content").append(compile(dataObj)).promise().done(function(){var e=Markdown.getSanitizingConverter(),t=$(".markdown").contents().filter(function(){return 3==this.nodeType}).text(),n=e.makeHtml(t);$(".markdown").empty(),console.log(n),$(".markdown").append(n)}),link=dataObj.items[randRepo].html_url,$("#solve").attr("href",dataObj.items[randRepo].html_url),dataObj.items[randRepo].pull_request&&($(".suggestionApp-action").trigger("click"),console.log("we're skipping pull requests"))}if($(".block-github").length){alert("keyboard shortcuts enabled! Press the right arrow for a new issue and the enter key to solve!");var randPage=Math.floor(34*Math.random()),getRandPage=function(){randPage=Math.floor(34*Math.random())},randRepo=0,build=30,language="",dataObj=getJson("https://api.github.com/search/issues?q=state%3Aopen&page="+randPage),template=$(".template").html(),compile=_.template(template);solveGit(),Mousetrap.bind("right",function(){solveGit(),$(".content-holder").perfectScrollbar("update")}),Mousetrap.bind("enter",function(){window.open(link,"_blank"),console.log("enter")}),$(".suggestionApp-action").click(function(){solveGit(),$(".content-holder").perfectScrollbar("update")}),$("#language-select").change(function(){randRepo=28,language=$("#language-select").val()?"&language:"+$("#language-select").val():"",solveGit(),$(".content-holder").perfectScrollbar("update")})}!function(e){function t(){e(".items-notice").removeClass("items-notice_show"),e(".items-notice").addClass("items-notice_show"),setTimeout(function(){e(".items-notice").removeClass("items-notice_show")},5e3)}function n(){var t=Math.floor(29*Math.random())+1;e.getJSON("http://api.dribbble.com/shots/everyone/?callback=?",{page:t}).done(function(t){var n=e(t.shots),o=Math.floor(14*Math.random())+1,a='<img src="'+n[o].image_url+'"/>';e(".suggestionApp-content").append("<br>"+a+"<br>").append(n[o].player.name+"<br>").append('<a href="'+n[o].player.url+'">'+n[o].player.url+"</a>")})}e(".suggestionApp-action").click(function(e){e.preventDefault()}),e(".block-random").length&&e.getJSON("random.json").done(function(n){counter=0,e("span").text(n[0].value),e(".suggestionApp-action").click(function(){var o=20;counter=(counter+1)%o,e("span").text(n[counter].value),19==counter&&t()})}),e(".block-dribbble").length&&(n(),e(".suggestionApp-action").click(function(){e(".suggestionApp-content").empty(),n()}))}(jQuery,window);