function getJson(e){return JSON.parse($.ajax({type:"GET",url:e,dataType:"json",global:!1,async:!1,success:function(e){return e},fail:function(){alert("Woops, something went wrong! Please file an issue on Github!")}}).responseText)}function solveGit(){randRepo=(randRepo+1)%build,29==randRepo&&(getRandPage(),dataObj=getJson("https://api.github.com/search/issues?q=language:"+language+"+state:open&page="+randPage)),$(".suggestionApp-content").empty(),$(".suggestionApp-content").append(compile(dataObj)).promise().done(function(){var e=Markdown.getSanitizingConverter(),t=$(".markdown").contents().filter(function(){return 3==this.nodeType}).text(),n=e.makeHtml(t);$(".markdown").empty(),$(".markdown").append(n)}),link=dataObj.items[randRepo].html_url,$("#solve").attr("href",dataObj.items[randRepo].html_url),dataObj.items[randRepo].pull_request&&$(".suggestionApp-action").trigger("click"),$("code").each(function(e,t){hljs.highlightBlock(t)})}if($(".block-github").length){setTimeout(function(){$(".items-notice").removeClass("items-notice_show-github")},2e3);var randPage=Math.floor(34*Math.random()),getRandPage=function(){randPage=Math.floor(34*Math.random())},randRepo=0,build=30,language="",dataObj=getJson("https://api.github.com/search/issues?q=state:open&page="+randPage),template=$(".template").html(),compile=_.template(template);solveGit(),Mousetrap.bind("right",function(){solveGit(),$(".content-holder").scrollTop(0),$(".content-holder").perfectScrollbar("update")}),Mousetrap.bind("enter",function(){window.open(link,"_blank")}),$(".suggestionApp-action").click(function(){solveGit(),$(".content-holder").scrollTop(0),$(".content-holder").perfectScrollbar("update")}),$("#language-select").change(function(){randRepo=28,language=$("#language-select").val()?$("#language-select").val():"",solveGit(),$(".content-holder").scrollTop(0),$(".content-holder").perfectScrollbar("update")})}!function(e){function t(){e(".items-notice").removeClass("items-notice_show"),e(".items-notice").addClass("items-notice_show"),setTimeout(function(){e(".items-notice").removeClass("items-notice_show")},2e3)}function n(){e.getJSON("random.json").done(function(n){var o=5.2631579*counter;e(".progress").css("width",o+"%"),e("span").text(n[counter].value),e(".suggestionApp-level").text(n[counter].Difficulty),e(".hiddenInput")[0].value='{\n                                                "title": "New Pen from The Practice App!",\n                                                "html": "<h1>'+n[counter].value+'</h1>",\n                                                "css": "span{ position: absolute;top: 1px;right: 1px;}"\n                                            }',19==counter&&t(),"Advanced"==e(".suggestionApp-level").text()?e(".suggestionApp-level").css("background-color","rgb(138, 44, 44)"):"Intermediate"==e(".suggestionApp-level").text()?e(".suggestionApp-level").css("background-color","rgb(170, 170, 28)"):"Easy"==e(".suggestionApp-level").text()&&e(".suggestionApp-level").css("background-color","rgb(31, 145, 36)")})}function o(){var t=Math.floor(29*Math.random())+1;e.getJSON("https://api.dribbble.com/shots/everyone/?callback=?",{page:t}).done(function(t){var n=e(t.shots),o=Math.floor(14*Math.random())+1,a='<img src="'+n[o].image_url+'"/>';e(".suggestionApp-content").append("<br>"+a+"<br>").append(n[o].player.name+"<br>").append('<a href="'+n[o].player.url+'">'+n[o].player.url+"</a>"),e(".hiddenInput")[0].value='{\n                                                "title": "New Pen from The Practice App!",\n                                                "html": "<img src=\''+n[o].image_url+"'/>\"\n                                            }"})}if(e(".suggestionApp-action").click(function(e){e.preventDefault()}),e(".block-random").length){counter=0;var a=20;n(),Mousetrap.bind("right",function(){e(".suggestionApp-action").trigger("click")}),Mousetrap.bind("enter",function(){e("#solveItem").trigger("click")}),e(".suggestionApp-action").click(function(){counter=(counter+1)%a,n()})}e(".block-dribbble").length&&(o(),e(".suggestionApp-action").click(function(){e(".suggestionApp-content").empty(),o()}),Mousetrap.bind("right",function(){e(".suggestionApp-content").empty(),o()}),Mousetrap.bind("enter",function(){e(".dribbbleSubmit").trigger("click")}))}(jQuery,window);