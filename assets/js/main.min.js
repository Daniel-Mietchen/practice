var ACTION_SELECTOR=".suggestionApp-action",CONTENT_WRAPPER_SELECTOR=".suggestionApp-content",FORM_SELECTOR=".suggestionApp-prompts form",NOTICE_SELECTOR=".items-notice",HIDDEN_INPUT_SELECTOR=".hiddenInput",utils=function(){"use strict";var t=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},e=function(t){var e="items-notice_show";$(NOTICE_SELECTOR).html(t),$(NOTICE_SELECTOR).removeClass(e),$(NOTICE_SELECTOR).addClass(e),setTimeout(function(){$(NOTICE_SELECTOR).removeClass(e)},4e3)},n=function(t,e){return t&&t[e]||""},i=function(t,e){return JSON.parse($.ajax({type:"GET",url:t,dataType:"json",global:!1,async:!1,data:e,success:function(t){return t}}).responseText)};return{random_number:t,display_message:e,get_json:i,get_value:n}}(),random=function(){"use strict";var t={},e=0,n=$(NOTICE_SELECTOR),i=n.data("total"),r=n.data("message")||"";r=r.replace(/\#\{total\}/g,i);var a=".suggestionApp-level",u={Advanced:"rgb(138, 44, 44)",Intermediate:"rgb(170, 170, 28)",Easy:"rgb(31, 145, 36)"},o=function(){var e="random.json";t=utils.get_json(e,{})},s=function(){var n=t[e],o=$("<p>",{text:n.value});$(CONTENT_WRAPPER_SELECTOR).html(o),$(a).text(n.Difficulty),e===i-1&&utils.display_message(r),$.each(u,function(t,e){t===$(a).text()&&$(a).css("background-color",e)}),$(HIDDEN_INPUT_SELECTOR).attr("value",'{\n            "title": "New Pen from The Practice App!",\n            "html": "<!-- '+n.value+' -->"\n        }');var s=100/i*e+"%";$(".progress").css("width",s)},c=function(){$(ACTION_SELECTOR).on("click",function(){e=(e+1)%i,s()}),Mousetrap.bind("right",function(){$(ACTION_SELECTOR).trigger("click")}),Mousetrap.bind("enter",function(){$(FORM_SELECTOR).trigger("submit")})},l=function(){o(),s(),c()};return{init:l}}(),dribbble=function(){"use strict";var t={},e=0,n=11,i=function(){var e="https://api.dribbble.com/v1/shots/",n=utils.random_number(1,29);t=utils.get_json(e,{page:n,access_token:"6288d1baba6d36c25f2b62037e644f450d6e8d2b8c68d064bae2adeed090d6d3"})},r=function(){(e>n-1||0===e)&&i(),$(CONTENT_WRAPPER_SELECTOR).empty();var r=t[e],a=$("<img>",{src:r.images.normal}),u=$("<br>"),o=$("<a>",{href:r.html_url,text:r.user.name,target:"_blank"}),s=$("<h3>",{text:r.title+" by "});s.append(o),$(CONTENT_WRAPPER_SELECTOR).append(a,u,s),$(HIDDEN_INPUT_SELECTOR).attr("value",'{\n            "title": "New Pen from The Practice App!",\n            "html": "<img src=\''+r.images.normal+"'/>\"\n        }")},a=function(){$(ACTION_SELECTOR).on("click",function(){e=(e+1)%n,r()}),Mousetrap.bind("right",function(){e=(e+1)%n,r()}),Mousetrap.bind("enter",function(){$(FORM_SELECTOR).trigger("submit")})},u=function(){r(),a()};return{init:u}}(),github=function(){"use strict";var t={},e="#language-select",n=".content-holder",i=0,r=$(NOTICE_SELECTOR).data("total"),a=utils.random_number(i,r),u=$(NOTICE_SELECTOR).data("message"),o=function(){var n=$(e).val(),i="https://api.github.com/search/issues?q=language:"+encodeURIComponent(n)+"+state:open&page="+a;t=utils.get_json(i,{})},s=function(){(i>r-1||0===i)&&o();var e=utils.random_number(0,r),a=t.items[e],u=$("<h3>",{text:utils.get_value(a,"title")}),s=$(marked(utils.get_value(a,"body"))),c=$("<p>",{text:utils.get_value(a,"created_at")});if($(CONTENT_WRAPPER_SELECTOR).html(s).prepend(u).append(c),""!==utils.get_value(a,"pull_request")){var l=$("<p>",{html:marked("Current pull request: "+a.pull_request.html_url)});$(CONTENT_WRAPPER_SELECTOR).append(l)}$("#solve").attr("href",utils.get_value(a,"html_url")),$(n).scrollTop(0).perfectScrollbar("update"),$(CONTENT_WRAPPER_SELECTOR).find("code").each(function(t,e){hljs.highlightBlock(e)})},c=function(){$(e).on("change",function(){o(),s()}),$(ACTION_SELECTOR).on("click",function(){i=(i+1)%r,s()}),Mousetrap.bind("right",function(){$(ACTION_SELECTOR).trigger("click")}),Mousetrap.bind("enter",function(){$("#solve").trigger("click")})},l=function(){utils.display_message(u),s(),c()};return{init:l}}(),core=function(){"use strict";var t=function(){switch($(ACTION_SELECTOR).on("click",function(t){t.preventDefault()}),$("article").attr("class")){case"block-random":random.init();break;case"block-dribbble":dribbble.init();break;case"block-github":github.init()}};return{init:t}}();core.init();